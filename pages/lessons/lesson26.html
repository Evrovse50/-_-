<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Перегрузка операторов</title>
 <link rel="stylesheet" href="../../lib/boxicons-2.0.7/css/boxicons.min.css">
  <link rel="stylesheet" href="../../css/style.css">
</head>

<body>
  <!--========== HEADER ==========-->
  <header class="header">
    <div class="header__container">
      <img src="../../img/1024px-Python-logo-notext.svg.webp" alt="" class="header__img">

      <a href="../../index.html" class="header__logo">Python World</a>



      <div class="header__toggle">
        <i class='bx bx-menu' id="header-toggle"></i>
      </div>
    </div>
  </header>

  <!--========== NAV ==========-->
  <div class="nav" id="navbar">
    <nav class="nav__container">
      <div>
        <a href="../../index.html" class="nav__link nav__logo">
          <img src="../../img/1024px-Python-logo-notext.svg.webp" alt="" width="35" height="35">
        </a>

        <div class="nav__list">
          <div class="nav__items">
            <a href="../../index.html" class="nav__link active">
              <i class='bx bx-home nav__icon'></i>
              <span class="nav__name">Главная</span>
            </a>




            <div class="nav__dropdown">
              <a href="#" class="nav__link">
                <i class='bx bxs-school nav__icon'></i>
                <span class="nav__name">Лекции</span>
                <i class='bx bx-chevron-down nav__icon nav__dropdown-icon'></i>
              </a>

              <div class="nav__dropdown-collapse">
                <div class="nav__dropdown-content">
                  <a href="./lesson1.html" class="nav__dropdown-item">Возможности языка python</a>
                  <a href="./lesson2.html" class="nav__dropdown-item">Скачать Python</a>
                  <a href="./lesson3.html" class="nav__dropdown-item">Первая программа</a>
                  <a href="./lesson4.html" class="nav__dropdown-item">Синтаксис языка Python</a>
                  <a href="./lesson5.html" class="nav__dropdown-item">Наиболее частые ошибки</a>
                  <a href="./lesson6.html" class="nav__dropdown-item">Условный оператор if</a>
                  <a href="./lesson7.html" class="nav__dropdown-item">Циклы</a>
                  <a href="./lesson8.html" class="nav__dropdown-item">Ключевые слова, модуль keyword</a>
                  <a href="./lesson9.html" class="nav__dropdown-item">Числа: целые, вещественные, комплексные</a>
                  <a href="./lesson10.html" class="nav__dropdown-item">Строки</a>
                  <a href="./lesson11.html" class="nav__dropdown-item">Списки (list)</a>
                  <a href="./lesson12.html" class="nav__dropdown-item">Индексы и срезы</a>
                  <a href="./lesson13.html" class="nav__dropdown-item">Кортежи (tuple)</a>
                  <a href="./lesson14.html" class="nav__dropdown-item">Словари (dict) и работа с ними</a>
                  <a href="./lesson15.html" class="nav__dropdown-item">Множества (set и frozenset)</a>
                  <a href="./lesson16.html" class="nav__dropdown-item">Функции и их аргументы</a>
                  <a href="./lesson17.html" class="nav__dropdown-item">Исключения в python</a>
                  <a href="./lesson18.html" class="nav__dropdown-item">Байты (bytes и bytearray)</a>
                  <a href="./lesson19.html" class="nav__dropdown-item">Файлы. Работа с файлами</a>
                  <a href="./lesson20.html" class="nav__dropdown-item">With ... as - менеджеры контекста</a>
                  <a href="./lesson21.html" class="nav__dropdown-item">PEP 8</a>
                  <a href="./lesson22.html" class="nav__dropdown-item">Документирование кода в Python</a>
                  <a href="./lesson23.html" class="nav__dropdown-item">Работа с модулями</a>
                  <a href="./lesson24.html" class="nav__dropdown-item">Объектно-ориентированное программирование</a>
                  <a href="./lesson25.html" class="nav__dropdown-item">Инкапсуляция, наследование, полиморфизм</a>
                  <a href="./lesson26.html" class="nav__dropdown-item">Перегрузка операторов</a>
                  <a href="./lesson27.html" class="nav__dropdown-item">Декораторы</a>
                </div>
              </div>
            </div>

            <div class="nav__dropdown">
              <a href="#" class="nav__link">
                <i class='bx bx-code-block nav__icon'></i>
                <span class="nav__name">Практические работы</span>
                <i class='bx bx-chevron-down nav__icon nav__dropdown-icon'></i>
              </a>

              <div class="nav__dropdown-collapse">
                <div class="nav__dropdown-content">
                  <a href="../practice/pract1.html" class="nav__dropdown-item">Практическая №1</a>
                  <a href="../practice/pract2.html" class="nav__dropdown-item">Практическая №2</a>
                  <a href="../practice/pract3.html" class="nav__dropdown-item">Практическая №3</a>
                  <a href="../practice/pract4.html" class="nav__dropdown-item">Практическая №4</a>
                  <a href="../practice/pract5.html" class="nav__dropdown-item">Практическая №5</a>
                  <a href="../practice/pract6.html" class="nav__dropdown-item">Практическая №6</a>
                  <a href="../practice/pract7.html" class="nav__dropdown-item">Практическая №7</a>
                  <a href="../practice/pract8.html" class="nav__dropdown-item">Практическая №8</a>
                  <a href="../practice/pract9.html" class="nav__dropdown-item">Практическая №9</a>
                  <a href="../practice/pract10.html" class="nav__dropdown-item">Практическая №10</a>
                  <a href="../practice/pract11.html" class="nav__dropdown-item">Практическая №11</a>
                </div>
              </div>
            </div>
          </div>

          <div class="nav__items">


            <div class="nav__dropdown">
              <a href="#" class="nav__link">
                <i class='bx bx-test-tube nav__icon'></i>
                <span class="nav__name">Лабораторные работы</span>
                <i class='bx bx-chevron-down nav__icon nav__dropdown-icon'></i>
              </a>

              <div class="nav__dropdown-collapse">
                <div class="nav__dropdown-content">
                  <a href="../labs/lab1.html" class="nav__dropdown-item">Лабораторная №1</a>
                  <a href="../labs/lab2.html" class="nav__dropdown-item">Лабораторная №2</a>
                  <a href="../labs/lab3.html" class="nav__dropdown-item">Лабораторная №3</a>
                  <a href="../labs/lab4.html" class="nav__dropdown-item">Лабораторная №4</a>
                  <a href="../labs/lab5.html" class="nav__dropdown-item">Лабораторная №5</a>
                  <a href="../labs/lab6.html" class="nav__dropdown-item">Лабораторная №6</a>
                  <a href="../labs/lab7.html" class="nav__dropdown-item">Лабораторная №7</a>
                  <a href="../labs/lab8.html" class="nav__dropdown-item">Лабораторная №8</a>
                </div>
              </div>
            </div>

            <a href="#" class="nav__link">
              <i class='bx bxl-python nav__icon'></i>
              <span class="nav__name">Тест</span>
            </a>
          </div>
        </div>
      </div>

      <a href="#" class="nav__link nav__logout">
        <i class='bx bx-log-out nav__icon'></i>
        <span class="nav__name">Log Out</span>
      </a>
    </nav>
  </div>

  <!--========== CONTENTS ==========-->
  <main>
    <section class="container">
      <h1>Перегрузка операторов</h1>
      <p>Перегрузка операторов — один из способов реализации полиморфизма, когда мы можем задать свою реализацию
        какого-либо метода в своём классе.</p>
      <p>Например, у нас есть два класса:</p>
      <pre>
<code>
class A:
    def go(self):
        print('Go, A!')

class B(A):
    def go(self, name):
        print('Go, {}!'.format(name))
</code>
</pre>
      <p>В данном примере класс B наследует класс A, но переопределяет метод go, поэтому он имеет мало общего с
        аналогичным методом класса A.</p>
      <p>Однако в python имеются методы, которые, как правило, не вызываются напрямую, а вызываются встроенными
        функциями или операторами.</p>
      <p>Например, метод __init__ перегружает конструктор класса. Конструктор - создание экземпляра класса.</p>
      <pre>
<code>
>>> class A:
...     def __init__(self, name):
...         self.name = name
...
>>> a = A('Vasya')
>>> print(a.name)
Vasya
</code>
</pre>
      <p>Собственно, далее пойдёт список таких "магических" методов.</p>
      <p><strong>__new__(cls[, ...])</strong> — управляет созданием экземпляра. В качестве обязательного аргумента
        принимает класс
        (не путать с экземпляром). Должен возвращать экземпляр класса для его последующей его передачи методу
        __init__.</p>
      <p><strong>__init__(self[, ...])</strong> - как уже было сказано выше, конструктор.</p>
      <p><strong>__del__(self)</strong> - вызывается при удалении объекта сборщиком мусора.</p>
      <p><strong>__repr__(self)</strong> - вызывается встроенной функцией repr; возвращает "сырые" данные,
        использующиеся для
        внутреннего представления в python.</p>
      <p><strong>__str__(self)</strong> - вызывается функциями str, print и format. Возвращает строковое представление
        объекта.</p>
      <p><strong>__bytes__(self)</strong> - вызывается функцией bytes при преобразовании к байтам.</p>
      <p><strong>__format__(self, format_spec)</strong> - используется функцией format (а также методом format у строк).
      </p>
      <p><strong>__lt__(self, other)</strong> - x < y вызывает x.__lt__(y).</p> <p>__le__(self, other) - x ≤ y вызывает
          x.__le__(y).</p>
      <p><strong>__eq__(self, other)</strong> - x == y вызывает x.__eq__(y).</p>
      <p><strong>__ne__(self, other)</strong> - x != y вызывает x.__ne__(y)</p>
      <p><strong>__gt__(self, other)</strong> - x > y вызывает x.__gt__(y).</p>
      <p><strong>__ge__(self, other)</strong> - x ≥ y вызывает x.__ge__(y).</p>
      <p><strong>__hash__(self)</strong> - получение хэш-суммы объекта, например, для добавления в словарь.</p>
      <p><strong>__bool__(self)</strong> - вызывается при проверке истинности. Если этот метод не определён, вызывается
        метод
        __len__ (объекты, имеющие ненулевую длину, считаются истинными).</p>
      <p><strong>__getattr__(self, name)</strong> - вызывается, когда атрибут экземпляра класса не найден в обычных
        местах
        (например, у экземпляра нет метода с таким названием)</p>
      <p><strong>__setattr__(self, name, value)</strong> - назначение атрибута.</p>
      <p><strong>__delattr__(self, name)</strong> - удаление атрибута (del obj.name).</p>
      <p><strong>__call__(self[, args...])</strong> - вызов экземпляра класса как функции.</p>
      <p>__len__(self) - длина объекта.</p>
      <p><strong>__getitem__(self, key)</strong> - доступ по индексу (или ключу).</p>
      <p><strong>__setitem__(self, key, value)</strong> - назначение элемента по индексу.</p>
      <p>__delitem__(self, key) - удаление элемента по индексу.</p>
      <p><strong>__iter__(self)</strong> - возвращает итератор для контейнера.</p>
      <p><strong>__reversed__(self)</strong> - итератор из элементов, следующих в обратном порядке.</p>
      <p><strong>__contains__(self, item)</strong> - проверка на принадлежность элемента контейнеру (item in self).</p>

      <h2>Перегрузка арифметических операторов</h2>
      <p><strong>__add__(self, other)</strong> - сложение. x + y вызывает x.__add__(y).</p>
      <p><strong>__sub__(self, other)</strong> - вычитание (x - y).</p>
      <p><strong>__mul__(self, other)</strong> - умножение (x * y).</p>
      <p><strong>__truediv__(self, other)</strong> - деление (x / y).</p>
      <p><strong>__floordiv__(self, other)</strong> - целочисленное деление (x // y).</p>
      <p><strong>__mod__(self, other)</strong> - остаток от деления (x % y).</p>
      <p><strong>__divmod__(self, other)</strong> - частное и остаток (divmod(x, y)).</p>
      <p><strong>__pow__(self, other[, modulo])</strong> - возведение в степень (x ** y, pow(x, y[, modulo])).</p>
      <p><strong>__lshift__(self, other)</strong> - битовый сдвиг влево (x << y).</p> <p>__rshift__(self, other) -
          битовый сдвиг
          вправо (x >> y).</p>
      <p><strong>_and__(self, other)</strong> - битовое И (x & y).</p>
      <p><strong>__xor__(self, other)</strong> - битовое ИСКЛЮЧАЮЩЕЕ ИЛИ (x ^ y).</p>
      <p><strong>__or__(self, other)</strong> - битовое ИЛИ (x | y).</p>
      <p>Пойдём дальше.</p>
      <p><strong>__radd__(self, other)</strong>,</p>
      <p><strong>__rsub__(self, other)</strong>,</p>
      <p><strong>__rmul__(self, other)</strong>,</p>
      <p><strong>__rtruediv__(self, other)</strong>,</p>
      <p><strong>__rfloordiv__(self, other)</strong>,</p>
      <p><strong>__rmod__(self, other)</strong>,</p>
      <p><strong>__rdivmod__(self, other)</strong>,</p>
      <p><strong>__rpow__(self, other)</strong>,</p>
      <p><strong>__rlshift__(self, other)</strong>,</p>
      <p><strong>__rrshift__(self, other)</strong>,</p>
      <p><strong>__rand__(self, other)</strong>,</p>
      <p><strong>__rxor__(self, other)</strong>,</p>
      <p><strong>__ror__(self, other)</strong> - делают то же самое, что и арифметические операторы, перечисленные выше,
        но для
        аргументов, находящихся справа, и только в случае, если для левого операнда не определён соответствующий
        метод.</p>
      <p>Например, операция x + y будет сначала пытаться вызвать x.__add__(y), и только в том случае, если это не
        получилось, будет пытаться вызвать y.__radd__(x). Аналогично для остальных методов.</p>
      <p>Идём дальше.</p>
      <p><strong>__iadd__(self, other)</strong> - +=.</p>
      <p><strong>__isub__(self, other)</strong> - -=.</p>
      <p><strong>__imul__(self, other)</strong> - *=.</p>
      <p><strong>__itruediv__(self, other)</strong> - /=.</p>
      <p><strong>__ifloordiv__(self, other)</strong> - //=.</p>
      <p><strong>__imod__(self, other)</strong> - %=.</p>
      <p><strong>__ipow__(self, other[, modulo])</strong> - **=.</p>
      <p><strong>__ilshift__(self, other)</strong> - <<=.</p> <p>__irshift__(self, other) - >>=.</p>
      <p><strong>__iand__(self, other)</strong> - &=.</p>
      <p><strong>__ixor__(self, other)</strong> - ^=.</p>
      <p><strong>__ior__(self, other)</strong> - |=.</p>
      <p><strong>__neg__(self)</strong> - унарный -.</p>
      <p><strong>__pos__(self)</strong> - унарный +.</p>
      <p><strong>__abs__(self)</strong> - модуль (abs()).</p>
      <p><strong>__invert__(self)</strong> - инверсия (~).</p>
      <p><strong>__complex__(self)</strong> - приведение к complex.</p>
      <p><strong>__int__(self)</strong> - приведение к int.</p>
      <p><strong>__float__(self)</strong> - приведение к float.</p>
      <p><strong>__round__(self[, n])</strong> - округление.</p>
      <p><strong>__enter__(self), __exit__(self, exc_type, exc_value, traceback)</strong> - реализация менеджеров
        контекста.</p>
      <p>Рассмотрим некоторые из этих методов на примере двухмерного вектора, для которого переопределим некоторые
        методы:</p>
      <pre>
<code>
import math

class Vector2D:
    def __init__(self, x, y):
        self.x = x
        self.y = y

    def __repr__(self):
        return 'Vector2D({}, {})'.format(self.x, self.y)

    def __str__(self):
        return '({}, {})'.format(self.x, self.y)

    def __add__(self, other):
        return Vector2D(self.x + other.x, self.y + other.y)

    def __iadd__(self, other):
        self.x += other.x
        self.y += other.y
        return self

    def<strong> __sub__(self, other):</strong>
        return Vector2D(self.x - other.x, self.y - other.y)

    def __isub__(self, other):
        self.x -= other.x
        self.y -= other.y
        return self

    def __abs__(self):
        return math.hypot(self.x, self.y)

    def __bool__(self):
        return self.x != 0 or self.y != 0

    def __neg__(self):
        return Vector2D(-self.x, -self.y)

>>> x = Vector2D(3, 4)
>>> x
Vector2D(3, 4)
>>> print(x)
(3, 4)
>>> abs(x)
5.0
>>> y = Vector2D(5, 6)
>>> y
Vector2D(5, 6)
>>> x + y
Vector2D(8, 10)
>>> x - y
Vector2D(-2, -2)
>>> -x
Vector2D(-3, -4)
>>> x += y
>>> x
Vector2D(8, 10)
>>> bool(x)
True
>>> z = Vector2D(0, 0)
>>> bool(z)
False
>>> -z
Vector2D(0, 0)
</code>
</pre>

      <div class="main__pagination">
        <div class="paginator previous"><a href="./lesson25.html">
            <img
              src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAtCAYAAAA6GuKaAAABRklEQVRoQ+2X4W3CMBCFv0xQRmADugHdpIzQEWCCsgFsUDoBdIOO0BW6AXoSlixInDNtKl91lvIrl/jLy7tnu8Ph6BwyE9B/9ddC6VC6oEDYI+wR9rB5YAY8AQdbeV3VFI04B96Ad2Bdh2Or/m3oR+AISOmNB+gV8HoBlmTNQ79cgPP/2zT0HnjucWOT0PKtGk4p0Teag04JocYbGk1B5wlRyqhmoK8TogQtr+uyjG/g01Kompqc7ksI6zxjdR+F3rh51gothXdjM//g/iTQ4nGndBJRim+BB4OqUu9kqFPJV4X/qzyd5ld6CGYMvJn0SODKaW07F15yOnFqRRT40suKmHO62nvk4O52eUPJ0lwjDvVfnixuoPUxKVnUpC7OiHmyuDqNGxfB+8usG6b7Z5jgyYCeQNTeV4bSoXRBgbBH2OO/2eMMUaUwLofhnv8AAAAASUVORK5CYII=" />
            Инкапсуляция, наследование, полиморфизм</a></div>
        <div class="paginator next"><a href="./lesson27.html">Декораторы<img
              src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAtCAYAAAA6GuKaAAABUUlEQVRoQ+2X0U3EMBBE31VAC5RAB0AFQAfQAVRwlAAdQCfQAXRACdABGnT5JN6xFfssraV83Tr3Mpkdb3ZMuHYTMpPQvd5aKp1KryiQ9kh7pD3iHrgG3oDv+JZY5ZaN+AhcATfAVwwnVrU19P6g9CXwEUMqV/WAFoUs8gC8lJHKFb2gF5J74LmMtV7RG1o0UvuuBXwEtHiVKmrQqmQZBS1wNWZVsoyEXhrUThYX+gw4CfrxFtBVWnayuNDy4nmJovL3cLIcE7SeValSzPJjgtbh8xR5Sy60PHoauTFwEbTSDyBrFBVe/teFDvL+lWlg0uyxtgSsh7PmkpHQn4DGV3sCHAX9fgCe5kR8Deb3v7bqrXQ4IdYaoRe0nRCjoasSYiS00qEqIUZBT/k17hxEVu2WjWiBOMUJ7ajVUptKt6jn7E2lHbVaalPpFvWcvVMq/QsQrjouZKOwvQAAAABJRU5ErkJggg==" /></a>
        </div>
      </div>
    </section>
  </main>

  <div id="background"></div>
  <!--========== MAIN JS ==========-->
  <script src="../../js/script.js"></script>
</body>

</html>